# 数独机制

## 数独基本规则
游戏使用经典9×9数独布局:
- 每行、每列、每个3×3区域包含1-9的数字，且不重复
- 单位放置在棋盘上时，具有对应的数字属性

## 数独验证和加成
在 [src/store/combinedGameStore.ts](mdc:src/store/combinedGameStore.ts) 中实现:
- `checkSudokuCompletion` - 检查玩家是否完成了数独条件
- `applyBuff` - 对单位应用数独加成
- 加成效果统一为: +10生命值和+2护甲

## 完成条件
数独条件检查发生在:
1. 单位部署后
2. 单位移动后
3. 单位死亡后

## 数独效果类型
1. **行数独** - 一行中所有数字都填满且符合数独规则
2. **列数独** - 一列中所有数字都填满且符合数独规则
3. **区域数独** - 一个3×3区域中所有数字都填满且符合数独规则

## 单位与数独的互动
- 每个单位都有一个数字属性
- 玩家可以战略性地放置带有特定数字的单位，以完成数独条件
- 只有玩家单位(ID以`player_`开头)能获得数独完成的加成
- 当单位死亡后，其所在位置的数独条件可能被破坏，需要重新放置单位
